"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/ratings/route";
exports.ids = ["app/api/ratings/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fratings%2Froute&page=%2Fapi%2Fratings%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fratings%2Froute.ts&appDir=%2Fworkspaces%2Ffront-line-rating-v1-Revamp%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspaces%2Ffront-line-rating-v1-Revamp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fratings%2Froute&page=%2Fapi%2Fratings%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fratings%2Froute.ts&appDir=%2Fworkspaces%2Ffront-line-rating-v1-Revamp%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspaces%2Ffront-line-rating-v1-Revamp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _workspaces_front_line_rating_v1_Revamp_app_api_ratings_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/ratings/route.ts */ \"(rsc)/./app/api/ratings/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/ratings/route\",\n        pathname: \"/api/ratings\",\n        filename: \"route\",\n        bundlePath: \"app/api/ratings/route\"\n    },\n    resolvedPagePath: \"/workspaces/front-line-rating-v1-Revamp/app/api/ratings/route.ts\",\n    nextConfigOutput,\n    userland: _workspaces_front_line_rating_v1_Revamp_app_api_ratings_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/ratings/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZyYXRpbmdzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZyYXRpbmdzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcmF0aW5ncyUyRnJvdXRlLnRzJmFwcERpcj0lMkZ3b3Jrc3BhY2VzJTJGZnJvbnQtbGluZS1yYXRpbmctdjEtUmV2YW1wJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZ3b3Jrc3BhY2VzJTJGZnJvbnQtbGluZS1yYXRpbmctdjEtUmV2YW1wJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNnQjtBQUM3RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250LWxpbmUtcmF0aW5nLXYxLXJldmFtcC8/NDA5YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvd29ya3NwYWNlcy9mcm9udC1saW5lLXJhdGluZy12MS1SZXZhbXAvYXBwL2FwaS9yYXRpbmdzL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9yYXRpbmdzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcmF0aW5nc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcmF0aW5ncy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi93b3Jrc3BhY2VzL2Zyb250LWxpbmUtcmF0aW5nLXYxLVJldmFtcC9hcHAvYXBpL3JhdGluZ3Mvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3JhdGluZ3Mvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fratings%2Froute&page=%2Fapi%2Fratings%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fratings%2Froute.ts&appDir=%2Fworkspaces%2Ffront-line-rating-v1-Revamp%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspaces%2Ffront-line-rating-v1-Revamp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/ratings/route.ts":
/*!**********************************!*\
  !*** ./app/api/ratings/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./lib/prisma.ts\");\n/* harmony import */ var _lib_email__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/email */ \"(rsc)/./lib/email.ts\");\n\n\n\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { agentId, customerName, customerContact, policyNumber, isAnonymous, isComplaint, feedbackText, responses } = body;\n        // Validate required fields\n        if (!agentId || !customerName) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Missing required fields\"\n            }, {\n                status: 400\n            });\n        }\n        if (!responses || !Array.isArray(responses) || responses.length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"At least one response is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Verify agent exists\n        const agent = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].user.findUnique({\n            where: {\n                id: agentId\n            },\n            include: {\n                department: true\n            }\n        });\n        if (!agent || agent.role !== \"AGENT\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid agent\"\n            }, {\n                status: 400\n            });\n        }\n        // Get client IP and user agent\n        const ipAddress = request.headers.get(\"x-forwarded-for\") || request.headers.get(\"x-real-ip\") || \"unknown\";\n        const userAgent = request.headers.get(\"user-agent\") || \"unknown\";\n        // Create rating with responses\n        const rating = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].rating.create({\n            data: {\n                agentId,\n                departmentId: agent.departmentId,\n                customerName,\n                customerContact,\n                policyNumber,\n                isAnonymous,\n                isComplaint,\n                feedbackText,\n                complaintStatus: isComplaint ? \"OPEN\" : undefined,\n                ipAddress,\n                userAgent,\n                responses: {\n                    create: responses.map((r)=>({\n                            questionId: r.questionId,\n                            score: r.score\n                        }))\n                }\n            },\n            include: {\n                responses: true\n            }\n        });\n        // Calculate average score\n        const totalScore = responses.reduce((sum, r)=>sum + r.score, 0);\n        const averageScore = totalScore / responses.length;\n        // Create notification for agent\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].notification.create({\n            data: {\n                userId: agentId,\n                title: isComplaint ? \"New Complaint Received\" : \"New Rating Received\",\n                message: `You received a new ${isComplaint ? \"complaint\" : \"rating\"} from ${customerName}`,\n                type: isComplaint ? \"complaint\" : \"rating\",\n                link: `/dashboard/my-ratings`\n            }\n        });\n        // If complaint, notify HOD\n        if (isComplaint && agent.department) {\n            const hods = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].user.findMany({\n                where: {\n                    departmentId: agent.departmentId,\n                    role: \"HOD\",\n                    status: \"APPROVED\"\n                }\n            });\n            for (const hod of hods){\n                await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].notification.create({\n                    data: {\n                        userId: hod.id,\n                        title: \"New Complaint in Your Department\",\n                        message: `A complaint was filed against ${agent.name}`,\n                        type: \"complaint\",\n                        link: `/dashboard/complaints`\n                    }\n                });\n            }\n        }\n        // Send email notification (fire and forget)\n        try {\n            await (0,_lib_email__WEBPACK_IMPORTED_MODULE_2__.sendNewRatingNotificationEmail)(agent.email, agent.name, averageScore, isComplaint);\n        } catch (emailError) {\n            console.error(\"Failed to send email notification:\", emailError);\n        // Don't fail the request if email fails\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"Rating submitted successfully\",\n            rating: {\n                id: rating.id,\n                averageScore\n            }\n        }, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\"Error submitting rating:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to submit rating\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(request) {\n    try {\n        const searchParams = request.nextUrl.searchParams;\n        const agentId = searchParams.get(\"agentId\");\n        const departmentId = searchParams.get(\"departmentId\");\n        const isComplaint = searchParams.get(\"isComplaint\");\n        const limit = parseInt(searchParams.get(\"limit\") || \"50\");\n        const where = {};\n        if (agentId) where.agentId = agentId;\n        if (departmentId) where.departmentId = departmentId;\n        if (isComplaint !== null) where.isComplaint = isComplaint === \"true\";\n        const ratings = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].rating.findMany({\n            where,\n            include: {\n                agent: {\n                    select: {\n                        name: true,\n                        employeeId: true\n                    }\n                },\n                department: {\n                    select: {\n                        name: true\n                    }\n                },\n                responses: {\n                    include: {\n                        question: {\n                            select: {\n                                questionText: true\n                            }\n                        }\n                    }\n                }\n            },\n            orderBy: {\n                createdAt: \"desc\"\n            },\n            take: limit\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(ratings);\n    } catch (error) {\n        console.error(\"Error fetching ratings:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch ratings\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUssZUFBZXlCLGFBQWE5QixHQUFHLENBQUM7UUFDdEMsTUFBTWxCLGNBQWNnRCxhQUFhOUIsR0FBRyxDQUFDO1FBQ3JDLE1BQU1nQyxRQUFRQyxTQUFTSCxhQUFhOUIsR0FBRyxDQUFDLFlBQVk7UUFFcEQsTUFBTVAsUUFBYSxDQUFDO1FBRXBCLElBQUloQixTQUFTZ0IsTUFBTWhCLE9BQU8sR0FBR0E7UUFDN0IsSUFBSTRCLGNBQWNaLE1BQU1ZLFlBQVksR0FBR0E7UUFDdkMsSUFBSXZCLGdCQUFnQixNQUFNVyxNQUFNWCxXQUFXLEdBQUdBLGdCQUFnQjtRQUU5RCxNQUFNb0QsVUFBVSxNQUFNL0QsbURBQU1BLENBQUMrQixNQUFNLENBQUNxQixRQUFRLENBQUM7WUFDM0M5QjtZQUNBRSxTQUFTO2dCQUNQTCxPQUFPO29CQUNMNkMsUUFBUTt3QkFDTlYsTUFBTTt3QkFDTlcsWUFBWTtvQkFDZDtnQkFDRjtnQkFDQXhDLFlBQVk7b0JBQ1Z1QyxRQUFRO3dCQUNOVixNQUFNO29CQUNSO2dCQUNGO2dCQUNBekMsV0FBVztvQkFDVFcsU0FBUzt3QkFDUDBDLFVBQVU7NEJBQ1JGLFFBQVE7Z0NBQ05HLGNBQWM7NEJBQ2hCO3dCQUNGO29CQUNGO2dCQUNGO1lBQ0Y7WUFDQUMsU0FBUztnQkFDUEMsV0FBVztZQUNiO1lBQ0FDLE1BQU1UO1FBQ1I7UUFFQSxPQUFPOUQscURBQVlBLENBQUNNLElBQUksQ0FBQzBEO0lBQzNCLEVBQUUsT0FBT2pELE9BQU87UUFDZDJDLFFBQVEzQyxLQUFLLENBQUMsMkJBQTJCQTtRQUN6QyxPQUFPZixxREFBWUEsQ0FBQ00sSUFBSSxDQUN0QjtZQUFFUyxPQUFPO1FBQTBCLEdBQ25DO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnQtbGluZS1yYXRpbmctdjEtcmV2YW1wLy4vYXBwL2FwaS9yYXRpbmdzL3JvdXRlLnRzPzhlMWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCBwcmlzbWEgZnJvbSAnQC9saWIvcHJpc21hJztcbmltcG9ydCB7IHNlbmROZXdSYXRpbmdOb3RpZmljYXRpb25FbWFpbCB9IGZyb20gJ0AvbGliL2VtYWlsJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgY29uc3Qge1xuICAgICAgYWdlbnRJZCxcbiAgICAgIGN1c3RvbWVyTmFtZSxcbiAgICAgIGN1c3RvbWVyQ29udGFjdCxcbiAgICAgIHBvbGljeU51bWJlcixcbiAgICAgIGlzQW5vbnltb3VzLFxuICAgICAgaXNDb21wbGFpbnQsXG4gICAgICBmZWVkYmFja1RleHQsXG4gICAgICByZXNwb25zZXMsXG4gICAgfSA9IGJvZHk7XG5cbiAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICBpZiAoIWFnZW50SWQgfHwgIWN1c3RvbWVyTmFtZSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnTWlzc2luZyByZXF1aXJlZCBmaWVsZHMnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlcyB8fCAhQXJyYXkuaXNBcnJheShyZXNwb25zZXMpIHx8IHJlc3BvbnNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0F0IGxlYXN0IG9uZSByZXNwb25zZSBpcyByZXF1aXJlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFZlcmlmeSBhZ2VudCBleGlzdHNcbiAgICBjb25zdCBhZ2VudCA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHsgaWQ6IGFnZW50SWQgfSxcbiAgICAgIGluY2x1ZGU6IHsgZGVwYXJ0bWVudDogdHJ1ZSB9LFxuICAgIH0pO1xuXG4gICAgaWYgKCFhZ2VudCB8fCBhZ2VudC5yb2xlICE9PSAnQUdFTlQnKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdJbnZhbGlkIGFnZW50JyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gR2V0IGNsaWVudCBJUCBhbmQgdXNlciBhZ2VudFxuICAgIGNvbnN0IGlwQWRkcmVzcyA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ3gtZm9yd2FyZGVkLWZvcicpIHx8IHJlcXVlc3QuaGVhZGVycy5nZXQoJ3gtcmVhbC1pcCcpIHx8ICd1bmtub3duJztcbiAgICBjb25zdCB1c2VyQWdlbnQgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd1c2VyLWFnZW50JykgfHwgJ3Vua25vd24nO1xuXG4gICAgLy8gQ3JlYXRlIHJhdGluZyB3aXRoIHJlc3BvbnNlc1xuICAgIGNvbnN0IHJhdGluZyA9IGF3YWl0IHByaXNtYS5yYXRpbmcuY3JlYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgYWdlbnRJZCxcbiAgICAgICAgZGVwYXJ0bWVudElkOiBhZ2VudC5kZXBhcnRtZW50SWQhLFxuICAgICAgICBjdXN0b21lck5hbWUsXG4gICAgICAgIGN1c3RvbWVyQ29udGFjdCxcbiAgICAgICAgcG9saWN5TnVtYmVyLFxuICAgICAgICBpc0Fub255bW91cyxcbiAgICAgICAgaXNDb21wbGFpbnQsXG4gICAgICAgIGZlZWRiYWNrVGV4dCxcbiAgICAgICAgY29tcGxhaW50U3RhdHVzOiBpc0NvbXBsYWludCA/ICdPUEVOJyA6IHVuZGVmaW5lZCxcbiAgICAgICAgaXBBZGRyZXNzLFxuICAgICAgICB1c2VyQWdlbnQsXG4gICAgICAgIHJlc3BvbnNlczoge1xuICAgICAgICAgIGNyZWF0ZTogcmVzcG9uc2VzLm1hcCgocjogYW55KSA9PiAoe1xuICAgICAgICAgICAgcXVlc3Rpb25JZDogci5xdWVzdGlvbklkLFxuICAgICAgICAgICAgc2NvcmU6IHIuc2NvcmUsXG4gICAgICAgICAgfSkpLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgcmVzcG9uc2VzOiB0cnVlLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIENhbGN1bGF0ZSBhdmVyYWdlIHNjb3JlXG4gICAgY29uc3QgdG90YWxTY29yZSA9IHJlc3BvbnNlcy5yZWR1Y2UoKHN1bTogbnVtYmVyLCByOiBhbnkpID0+IHN1bSArIHIuc2NvcmUsIDApO1xuICAgIGNvbnN0IGF2ZXJhZ2VTY29yZSA9IHRvdGFsU2NvcmUgLyByZXNwb25zZXMubGVuZ3RoO1xuXG4gICAgLy8gQ3JlYXRlIG5vdGlmaWNhdGlvbiBmb3IgYWdlbnRcbiAgICBhd2FpdCBwcmlzbWEubm90aWZpY2F0aW9uLmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHVzZXJJZDogYWdlbnRJZCxcbiAgICAgICAgdGl0bGU6IGlzQ29tcGxhaW50ID8gJ05ldyBDb21wbGFpbnQgUmVjZWl2ZWQnIDogJ05ldyBSYXRpbmcgUmVjZWl2ZWQnLFxuICAgICAgICBtZXNzYWdlOiBgWW91IHJlY2VpdmVkIGEgbmV3ICR7aXNDb21wbGFpbnQgPyAnY29tcGxhaW50JyA6ICdyYXRpbmcnfSBmcm9tICR7Y3VzdG9tZXJOYW1lfWAsXG4gICAgICAgIHR5cGU6IGlzQ29tcGxhaW50ID8gJ2NvbXBsYWludCcgOiAncmF0aW5nJyxcbiAgICAgICAgbGluazogYC9kYXNoYm9hcmQvbXktcmF0aW5nc2AsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gSWYgY29tcGxhaW50LCBub3RpZnkgSE9EXG4gICAgaWYgKGlzQ29tcGxhaW50ICYmIGFnZW50LmRlcGFydG1lbnQpIHtcbiAgICAgIGNvbnN0IGhvZHMgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgZGVwYXJ0bWVudElkOiBhZ2VudC5kZXBhcnRtZW50SWQsXG4gICAgICAgICAgcm9sZTogJ0hPRCcsXG4gICAgICAgICAgc3RhdHVzOiAnQVBQUk9WRUQnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGZvciAoY29uc3QgaG9kIG9mIGhvZHMpIHtcbiAgICAgICAgYXdhaXQgcHJpc21hLm5vdGlmaWNhdGlvbi5jcmVhdGUoe1xuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHVzZXJJZDogaG9kLmlkLFxuICAgICAgICAgICAgdGl0bGU6ICdOZXcgQ29tcGxhaW50IGluIFlvdXIgRGVwYXJ0bWVudCcsXG4gICAgICAgICAgICBtZXNzYWdlOiBgQSBjb21wbGFpbnQgd2FzIGZpbGVkIGFnYWluc3QgJHthZ2VudC5uYW1lfWAsXG4gICAgICAgICAgICB0eXBlOiAnY29tcGxhaW50JyxcbiAgICAgICAgICAgIGxpbms6IGAvZGFzaGJvYXJkL2NvbXBsYWludHNgLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNlbmQgZW1haWwgbm90aWZpY2F0aW9uIChmaXJlIGFuZCBmb3JnZXQpXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHNlbmROZXdSYXRpbmdOb3RpZmljYXRpb25FbWFpbChcbiAgICAgICAgYWdlbnQuZW1haWwsXG4gICAgICAgIGFnZW50Lm5hbWUsXG4gICAgICAgIGF2ZXJhZ2VTY29yZSxcbiAgICAgICAgaXNDb21wbGFpbnRcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZW1haWxFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNlbmQgZW1haWwgbm90aWZpY2F0aW9uOicsIGVtYWlsRXJyb3IpO1xuICAgICAgLy8gRG9uJ3QgZmFpbCB0aGUgcmVxdWVzdCBpZiBlbWFpbCBmYWlsc1xuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgbWVzc2FnZTogJ1JhdGluZyBzdWJtaXR0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgICAgcmF0aW5nOiB7XG4gICAgICAgICAgaWQ6IHJhdGluZy5pZCxcbiAgICAgICAgICBhdmVyYWdlU2NvcmUsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDIwMSB9XG4gICAgKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzdWJtaXR0aW5nIHJhdGluZzonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBzdWJtaXQgcmF0aW5nJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gcmVxdWVzdC5uZXh0VXJsLnNlYXJjaFBhcmFtcztcbiAgICBjb25zdCBhZ2VudElkID0gc2VhcmNoUGFyYW1zLmdldCgnYWdlbnRJZCcpO1xuICAgIGNvbnN0IGRlcGFydG1lbnRJZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ2RlcGFydG1lbnRJZCcpO1xuICAgIGNvbnN0IGlzQ29tcGxhaW50ID0gc2VhcmNoUGFyYW1zLmdldCgnaXNDb21wbGFpbnQnKTtcbiAgICBjb25zdCBsaW1pdCA9IHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ2xpbWl0JykgfHwgJzUwJyk7XG5cbiAgICBjb25zdCB3aGVyZTogYW55ID0ge307XG5cbiAgICBpZiAoYWdlbnRJZCkgd2hlcmUuYWdlbnRJZCA9IGFnZW50SWQ7XG4gICAgaWYgKGRlcGFydG1lbnRJZCkgd2hlcmUuZGVwYXJ0bWVudElkID0gZGVwYXJ0bWVudElkO1xuICAgIGlmIChpc0NvbXBsYWludCAhPT0gbnVsbCkgd2hlcmUuaXNDb21wbGFpbnQgPSBpc0NvbXBsYWludCA9PT0gJ3RydWUnO1xuXG4gICAgY29uc3QgcmF0aW5ncyA9IGF3YWl0IHByaXNtYS5yYXRpbmcuZmluZE1hbnkoe1xuICAgICAgd2hlcmUsXG4gICAgICBpbmNsdWRlOiB7XG4gICAgICAgIGFnZW50OiB7XG4gICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICBuYW1lOiB0cnVlLFxuICAgICAgICAgICAgZW1wbG95ZWVJZDogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBkZXBhcnRtZW50OiB7XG4gICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICBuYW1lOiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHJlc3BvbnNlczoge1xuICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgIHF1ZXN0aW9uOiB7XG4gICAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICAgIHF1ZXN0aW9uVGV4dDogdHJ1ZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBvcmRlckJ5OiB7XG4gICAgICAgIGNyZWF0ZWRBdDogJ2Rlc2MnLFxuICAgICAgfSxcbiAgICAgIHRha2U6IGxpbWl0LFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHJhdGluZ3MpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHJhdGluZ3M6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggcmF0aW5ncycgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwicHJpc21hIiwic2VuZE5ld1JhdGluZ05vdGlmaWNhdGlvbkVtYWlsIiwiUE9TVCIsInJlcXVlc3QiLCJib2R5IiwianNvbiIsImFnZW50SWQiLCJjdXN0b21lck5hbWUiLCJjdXN0b21lckNvbnRhY3QiLCJwb2xpY3lOdW1iZXIiLCJpc0Fub255bW91cyIsImlzQ29tcGxhaW50IiwiZmVlZGJhY2tUZXh0IiwicmVzcG9uc2VzIiwiZXJyb3IiLCJzdGF0dXMiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJhZ2VudCIsInVzZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpZCIsImluY2x1ZGUiLCJkZXBhcnRtZW50Iiwicm9sZSIsImlwQWRkcmVzcyIsImhlYWRlcnMiLCJnZXQiLCJ1c2VyQWdlbnQiLCJyYXRpbmciLCJjcmVhdGUiLCJkYXRhIiwiZGVwYXJ0bWVudElkIiwiY29tcGxhaW50U3RhdHVzIiwidW5kZWZpbmVkIiwibWFwIiwiciIsInF1ZXN0aW9uSWQiLCJzY29yZSIsInRvdGFsU2NvcmUiLCJyZWR1Y2UiLCJzdW0iLCJhdmVyYWdlU2NvcmUiLCJub3RpZmljYXRpb24iLCJ1c2VySWQiLCJ0aXRsZSIsIm1lc3NhZ2UiLCJ0eXBlIiwibGluayIsImhvZHMiLCJmaW5kTWFueSIsImhvZCIsIm5hbWUiLCJlbWFpbCIsImVtYWlsRXJyb3IiLCJjb25zb2xlIiwiR0VUIiwic2VhcmNoUGFyYW1zIiwibmV4dFVybCIsImxpbWl0IiwicGFyc2VJbnQiLCJyYXRpbmdzIiwic2VsZWN0IiwiZW1wbG95ZWVJZCIsInF1ZXN0aW9uIiwicXVlc3Rpb25UZXh0Iiwib3JkZXJCeSIsImNyZWF0ZWRBdCIsInRha2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/ratings/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/email.ts":
/*!**********************!*\
  !*** ./lib/email.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendApprovalNotificationEmail: () => (/* binding */ sendApprovalNotificationEmail),\n/* harmony export */   sendEmail: () => (/* binding */ sendEmail),\n/* harmony export */   sendNewRatingNotificationEmail: () => (/* binding */ sendNewRatingNotificationEmail),\n/* harmony export */   sendPasswordResetEmail: () => (/* binding */ sendPasswordResetEmail),\n/* harmony export */   sendVerificationEmail: () => (/* binding */ sendVerificationEmail)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"(rsc)/./node_modules/nodemailer/lib/nodemailer.js\");\n\nconst transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTransport({\n    host: process.env.EMAIL_SERVER_HOST,\n    port: Number(process.env.EMAIL_SERVER_PORT),\n    secure: false,\n    auth: {\n        user: process.env.EMAIL_SERVER_USER,\n        pass: process.env.EMAIL_SERVER_PASSWORD\n    }\n});\nasync function sendEmail({ to, subject, html }) {\n    try {\n        const info = await transporter.sendMail({\n            from: process.env.EMAIL_FROM,\n            to,\n            subject,\n            html\n        });\n        console.log(\"Email sent:\", info.messageId);\n        return {\n            success: true,\n            messageId: info.messageId\n        };\n    } catch (error) {\n        console.error(\"Error sending email:\", error);\n        return {\n            success: false,\n            error\n        };\n    }\n}\nasync function sendVerificationEmail(email, token) {\n    const verificationUrl = `${process.env.APP_URL}/auth/verify-email?token=${token}`;\n    const html = `\n    <!DOCTYPE html>\n    <html>\n      <head>\n        <meta charset=\"utf-8\">\n        <style>\n          body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }\n          .container { max-width: 600px; margin: 0 auto; padding: 20px; }\n          .header { background-color: #dc2626; color: white; padding: 20px; text-align: center; border-radius: 8px 8px 0 0; }\n          .content { background-color: #f9fafb; padding: 30px; border-radius: 0 0 8px 8px; }\n          .button { display: inline-block; background-color: #dc2626; color: white; padding: 12px 30px; text-decoration: none; border-radius: 6px; margin: 20px 0; }\n          .footer { text-align: center; margin-top: 20px; font-size: 12px; color: #666; }\n        </style>\n      </head>\n      <body>\n        <div class=\"container\">\n          <div class=\"header\">\n            <h1>Email Verification</h1>\n          </div>\n          <div class=\"content\">\n            <p>Hello,</p>\n            <p>Thank you for registering with Frontline Rating System. Please verify your email address by clicking the button below:</p>\n            <div style=\"text-align: center;\">\n              <a href=\"${verificationUrl}\" class=\"button\">Verify Email Address</a>\n            </div>\n            <p>Or copy and paste this link into your browser:</p>\n            <p style=\"word-break: break-all; color: #666;\">${verificationUrl}</p>\n            <p>This link will expire in 24 hours.</p>\n            <p>If you didn't create an account, please ignore this email.</p>\n          </div>\n          <div class=\"footer\">\n            <p>&copy; ${new Date().getFullYear()} Frontline Rating System. All rights reserved.</p>\n          </div>\n        </div>\n      </body>\n    </html>\n  `;\n    return sendEmail({\n        to: email,\n        subject: \"Verify Your Email Address\",\n        html\n    });\n}\nasync function sendPasswordResetEmail(email, token) {\n    const resetUrl = `${process.env.APP_URL}/auth/reset-password?token=${token}`;\n    const html = `\n    <!DOCTYPE html>\n    <html>\n      <head>\n        <meta charset=\"utf-8\">\n        <style>\n          body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }\n          .container { max-width: 600px; margin: 0 auto; padding: 20px; }\n          .header { background-color: #dc2626; color: white; padding: 20px; text-align: center; border-radius: 8px 8px 0 0; }\n          .content { background-color: #f9fafb; padding: 30px; border-radius: 0 0 8px 8px; }\n          .button { display: inline-block; background-color: #dc2626; color: white; padding: 12px 30px; text-decoration: none; border-radius: 6px; margin: 20px 0; }\n          .footer { text-align: center; margin-top: 20px; font-size: 12px; color: #666; }\n        </style>\n      </head>\n      <body>\n        <div class=\"container\">\n          <div class=\"header\">\n            <h1>Password Reset</h1>\n          </div>\n          <div class=\"content\">\n            <p>Hello,</p>\n            <p>We received a request to reset your password. Click the button below to create a new password:</p>\n            <div style=\"text-align: center;\">\n              <a href=\"${resetUrl}\" class=\"button\">Reset Password</a>\n            </div>\n            <p>Or copy and paste this link into your browser:</p>\n            <p style=\"word-break: break-all; color: #666;\">${resetUrl}</p>\n            <p>This link will expire in 1 hour.</p>\n            <p>If you didn't request a password reset, please ignore this email.</p>\n          </div>\n          <div class=\"footer\">\n            <p>&copy; ${new Date().getFullYear()} Frontline Rating System. All rights reserved.</p>\n          </div>\n        </div>\n      </body>\n    </html>\n  `;\n    return sendEmail({\n        to: email,\n        subject: \"Reset Your Password\",\n        html\n    });\n}\nasync function sendApprovalNotificationEmail(email, name, approved) {\n    const statusText = approved ? \"approved\" : \"rejected\";\n    const statusColor = approved ? \"#22c55e\" : \"#dc2626\";\n    const html = `\n    <!DOCTYPE html>\n    <html>\n      <head>\n        <meta charset=\"utf-8\">\n        <style>\n          body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }\n          .container { max-width: 600px; margin: 0 auto; padding: 20px; }\n          .header { background-color: ${statusColor}; color: white; padding: 20px; text-align: center; border-radius: 8px 8px 0 0; }\n          .content { background-color: #f9fafb; padding: 30px; border-radius: 0 0 8px 8px; }\n          .button { display: inline-block; background-color: #dc2626; color: white; padding: 12px 30px; text-decoration: none; border-radius: 6px; margin: 20px 0; }\n          .footer { text-align: center; margin-top: 20px; font-size: 12px; color: #666; }\n        </style>\n      </head>\n      <body>\n        <div class=\"container\">\n          <div class=\"header\">\n            <h1>Account Status Update</h1>\n          </div>\n          <div class=\"content\">\n            <p>Hello ${name},</p>\n            <p>Your account registration has been <strong>${statusText}</strong>.</p>\n            ${approved ? `\n              <p>You can now log in to the Frontline Rating System using your credentials.</p>\n              <div style=\"text-align: center;\">\n                <a href=\"${process.env.APP_URL}/auth/login\" class=\"button\">Login Now</a>\n              </div>\n            ` : `\n              <p>If you believe this is an error, please contact the system administrator.</p>\n            `}\n          </div>\n          <div class=\"footer\">\n            <p>&copy; ${new Date().getFullYear()} Frontline Rating System. All rights reserved.</p>\n          </div>\n        </div>\n      </body>\n    </html>\n  `;\n    return sendEmail({\n        to: email,\n        subject: `Account ${approved ? \"Approved\" : \"Rejected\"}`,\n        html\n    });\n}\nasync function sendNewRatingNotificationEmail(email, agentName, avgRating, isComplaint) {\n    const subject = isComplaint ? \"New Complaint Received\" : \"New Rating Received\";\n    const headerColor = isComplaint ? \"#dc2626\" : \"#22c55e\";\n    const html = `\n    <!DOCTYPE html>\n    <html>\n      <head>\n        <meta charset=\"utf-8\">\n        <style>\n          body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }\n          .container { max-width: 600px; margin: 0 auto; padding: 20px; }\n          .header { background-color: ${headerColor}; color: white; padding: 20px; text-align: center; border-radius: 8px 8px 0 0; }\n          .content { background-color: #f9fafb; padding: 30px; border-radius: 0 0 8px 8px; }\n          .button { display: inline-block; background-color: #dc2626; color: white; padding: 12px 30px; text-decoration: none; border-radius: 6px; margin: 20px 0; }\n          .footer { text-align: center; margin-top: 20px; font-size: 12px; color: #666; }\n          .rating { font-size: 24px; font-weight: bold; color: ${headerColor}; }\n        </style>\n      </head>\n      <body>\n        <div class=\"container\">\n          <div class=\"header\">\n            <h1>${subject}</h1>\n          </div>\n          <div class=\"content\">\n            <p>Hello ${agentName},</p>\n            <p>You have received a new ${isComplaint ? \"complaint\" : \"rating\"} from a customer.</p>\n            ${!isComplaint ? `<p class=\"rating\">Average Rating: ${avgRating.toFixed(1)} / 5.0</p>` : \"\"}\n            <div style=\"text-align: center;\">\n              <a href=\"${process.env.APP_URL}/dashboard\" class=\"button\">View Details</a>\n            </div>\n          </div>\n          <div class=\"footer\">\n            <p>&copy; ${new Date().getFullYear()} Frontline Rating System. All rights reserved.</p>\n          </div>\n        </div>\n      </body>\n    </html>\n  `;\n    return sendEmail({\n        to: email,\n        subject,\n        html\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QjtJQUN6RCxNQUFNQyxjQUFjRCxjQUFjLFlBQVk7SUFFOUMsTUFBTTNCLE9BQU8sQ0FBQzs7Ozs7Ozs7c0NBUXNCLEVBQUU0QixZQUFZOzs7OytEQUlXLEVBQUVBLFlBQVk7Ozs7OztnQkFNN0QsRUFBRTdCLFFBQVE7OztxQkFHTCxFQUFFMEIsVUFBVTt1Q0FDTSxFQUFFRSxjQUFjLGNBQWMsU0FBUztZQUNsRSxFQUFFLENBQUNBLGNBQWMsQ0FBQyxrQ0FBa0MsRUFBRUQsVUFBVUcsT0FBTyxDQUFDLEdBQUcsVUFBVSxDQUFDLEdBQUcsR0FBRzs7dUJBRWpGLEVBQUU1QyxRQUFRQyxHQUFHLENBQUM0QixPQUFPLENBQUM7Ozs7c0JBSXZCLEVBQUUsSUFBSUMsT0FBT0MsV0FBVyxHQUFHOzs7OztFQUsvQyxDQUFDO0lBRUQsT0FBT25CLFVBQVU7UUFDZkMsSUFBSWE7UUFDSlo7UUFDQUM7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnQtbGluZS1yYXRpbmctdjEtcmV2YW1wLy4vbGliL2VtYWlsLnRzPzgyODEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG5vZGVtYWlsZXIgZnJvbSAnbm9kZW1haWxlcic7XG5cbmNvbnN0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xuICBob3N0OiBwcm9jZXNzLmVudi5FTUFJTF9TRVJWRVJfSE9TVCxcbiAgcG9ydDogTnVtYmVyKHByb2Nlc3MuZW52LkVNQUlMX1NFUlZFUl9QT1JUKSxcbiAgc2VjdXJlOiBmYWxzZSxcbiAgYXV0aDoge1xuICAgIHVzZXI6IHByb2Nlc3MuZW52LkVNQUlMX1NFUlZFUl9VU0VSLFxuICAgIHBhc3M6IHByb2Nlc3MuZW52LkVNQUlMX1NFUlZFUl9QQVNTV09SRCxcbiAgfSxcbn0pO1xuXG5pbnRlcmZhY2UgRW1haWxPcHRpb25zIHtcbiAgdG86IHN0cmluZztcbiAgc3ViamVjdDogc3RyaW5nO1xuICBodG1sOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kRW1haWwoeyB0bywgc3ViamVjdCwgaHRtbCB9OiBFbWFpbE9wdGlvbnMpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBpbmZvID0gYXdhaXQgdHJhbnNwb3J0ZXIuc2VuZE1haWwoe1xuICAgICAgZnJvbTogcHJvY2Vzcy5lbnYuRU1BSUxfRlJPTSxcbiAgICAgIHRvLFxuICAgICAgc3ViamVjdCxcbiAgICAgIGh0bWwsXG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coJ0VtYWlsIHNlbnQ6JywgaW5mby5tZXNzYWdlSWQpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2VJZDogaW5mby5tZXNzYWdlSWQgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZW5kaW5nIGVtYWlsOicsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZFZlcmlmaWNhdGlvbkVtYWlsKGVtYWlsOiBzdHJpbmcsIHRva2VuOiBzdHJpbmcpIHtcbiAgY29uc3QgdmVyaWZpY2F0aW9uVXJsID0gYCR7cHJvY2Vzcy5lbnYuQVBQX1VSTH0vYXV0aC92ZXJpZnktZW1haWw/dG9rZW49JHt0b2tlbn1gO1xuICBcbiAgY29uc3QgaHRtbCA9IGBcbiAgICA8IURPQ1RZUEUgaHRtbD5cbiAgICA8aHRtbD5cbiAgICAgIDxoZWFkPlxuICAgICAgICA8bWV0YSBjaGFyc2V0PVwidXRmLThcIj5cbiAgICAgICAgPHN0eWxlPlxuICAgICAgICAgIGJvZHkgeyBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7IGxpbmUtaGVpZ2h0OiAxLjY7IGNvbG9yOiAjMzMzOyB9XG4gICAgICAgICAgLmNvbnRhaW5lciB7IG1heC13aWR0aDogNjAwcHg7IG1hcmdpbjogMCBhdXRvOyBwYWRkaW5nOiAyMHB4OyB9XG4gICAgICAgICAgLmhlYWRlciB7IGJhY2tncm91bmQtY29sb3I6ICNkYzI2MjY7IGNvbG9yOiB3aGl0ZTsgcGFkZGluZzogMjBweDsgdGV4dC1hbGlnbjogY2VudGVyOyBib3JkZXItcmFkaXVzOiA4cHggOHB4IDAgMDsgfVxuICAgICAgICAgIC5jb250ZW50IHsgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZmFmYjsgcGFkZGluZzogMzBweDsgYm9yZGVyLXJhZGl1czogMCAwIDhweCA4cHg7IH1cbiAgICAgICAgICAuYnV0dG9uIHsgZGlzcGxheTogaW5saW5lLWJsb2NrOyBiYWNrZ3JvdW5kLWNvbG9yOiAjZGMyNjI2OyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDEycHggMzBweDsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBib3JkZXItcmFkaXVzOiA2cHg7IG1hcmdpbjogMjBweCAwOyB9XG4gICAgICAgICAgLmZvb3RlciB7IHRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLXRvcDogMjBweDsgZm9udC1zaXplOiAxMnB4OyBjb2xvcjogIzY2NjsgfVxuICAgICAgICA8L3N0eWxlPlxuICAgICAgPC9oZWFkPlxuICAgICAgPGJvZHk+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgICAgICA8aDE+RW1haWwgVmVyaWZpY2F0aW9uPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuICAgICAgICAgICAgPHA+SGVsbG8sPC9wPlxuICAgICAgICAgICAgPHA+VGhhbmsgeW91IGZvciByZWdpc3RlcmluZyB3aXRoIEZyb250bGluZSBSYXRpbmcgU3lzdGVtLiBQbGVhc2UgdmVyaWZ5IHlvdXIgZW1haWwgYWRkcmVzcyBieSBjbGlja2luZyB0aGUgYnV0dG9uIGJlbG93OjwvcD5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XG4gICAgICAgICAgICAgIDxhIGhyZWY9XCIke3ZlcmlmaWNhdGlvblVybH1cIiBjbGFzcz1cImJ1dHRvblwiPlZlcmlmeSBFbWFpbCBBZGRyZXNzPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8cD5PciBjb3B5IGFuZCBwYXN0ZSB0aGlzIGxpbmsgaW50byB5b3VyIGJyb3dzZXI6PC9wPlxuICAgICAgICAgICAgPHAgc3R5bGU9XCJ3b3JkLWJyZWFrOiBicmVhay1hbGw7IGNvbG9yOiAjNjY2O1wiPiR7dmVyaWZpY2F0aW9uVXJsfTwvcD5cbiAgICAgICAgICAgIDxwPlRoaXMgbGluayB3aWxsIGV4cGlyZSBpbiAyNCBob3Vycy48L3A+XG4gICAgICAgICAgICA8cD5JZiB5b3UgZGlkbid0IGNyZWF0ZSBhbiBhY2NvdW50LCBwbGVhc2UgaWdub3JlIHRoaXMgZW1haWwuPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb290ZXJcIj5cbiAgICAgICAgICAgIDxwPiZjb3B5OyAke25ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKX0gRnJvbnRsaW5lIFJhdGluZyBTeXN0ZW0uIEFsbCByaWdodHMgcmVzZXJ2ZWQuPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvYm9keT5cbiAgICA8L2h0bWw+XG4gIGA7XG5cbiAgcmV0dXJuIHNlbmRFbWFpbCh7XG4gICAgdG86IGVtYWlsLFxuICAgIHN1YmplY3Q6ICdWZXJpZnkgWW91ciBFbWFpbCBBZGRyZXNzJyxcbiAgICBodG1sLFxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRQYXNzd29yZFJlc2V0RW1haWwoZW1haWw6IHN0cmluZywgdG9rZW46IHN0cmluZykge1xuICBjb25zdCByZXNldFVybCA9IGAke3Byb2Nlc3MuZW52LkFQUF9VUkx9L2F1dGgvcmVzZXQtcGFzc3dvcmQ/dG9rZW49JHt0b2tlbn1gO1xuICBcbiAgY29uc3QgaHRtbCA9IGBcbiAgICA8IURPQ1RZUEUgaHRtbD5cbiAgICA8aHRtbD5cbiAgICAgIDxoZWFkPlxuICAgICAgICA8bWV0YSBjaGFyc2V0PVwidXRmLThcIj5cbiAgICAgICAgPHN0eWxlPlxuICAgICAgICAgIGJvZHkgeyBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7IGxpbmUtaGVpZ2h0OiAxLjY7IGNvbG9yOiAjMzMzOyB9XG4gICAgICAgICAgLmNvbnRhaW5lciB7IG1heC13aWR0aDogNjAwcHg7IG1hcmdpbjogMCBhdXRvOyBwYWRkaW5nOiAyMHB4OyB9XG4gICAgICAgICAgLmhlYWRlciB7IGJhY2tncm91bmQtY29sb3I6ICNkYzI2MjY7IGNvbG9yOiB3aGl0ZTsgcGFkZGluZzogMjBweDsgdGV4dC1hbGlnbjogY2VudGVyOyBib3JkZXItcmFkaXVzOiA4cHggOHB4IDAgMDsgfVxuICAgICAgICAgIC5jb250ZW50IHsgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZmFmYjsgcGFkZGluZzogMzBweDsgYm9yZGVyLXJhZGl1czogMCAwIDhweCA4cHg7IH1cbiAgICAgICAgICAuYnV0dG9uIHsgZGlzcGxheTogaW5saW5lLWJsb2NrOyBiYWNrZ3JvdW5kLWNvbG9yOiAjZGMyNjI2OyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDEycHggMzBweDsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBib3JkZXItcmFkaXVzOiA2cHg7IG1hcmdpbjogMjBweCAwOyB9XG4gICAgICAgICAgLmZvb3RlciB7IHRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLXRvcDogMjBweDsgZm9udC1zaXplOiAxMnB4OyBjb2xvcjogIzY2NjsgfVxuICAgICAgICA8L3N0eWxlPlxuICAgICAgPC9oZWFkPlxuICAgICAgPGJvZHk+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgICAgICA8aDE+UGFzc3dvcmQgUmVzZXQ8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG4gICAgICAgICAgICA8cD5IZWxsbyw8L3A+XG4gICAgICAgICAgICA8cD5XZSByZWNlaXZlZCBhIHJlcXVlc3QgdG8gcmVzZXQgeW91ciBwYXNzd29yZC4gQ2xpY2sgdGhlIGJ1dHRvbiBiZWxvdyB0byBjcmVhdGUgYSBuZXcgcGFzc3dvcmQ6PC9wPlxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjtcIj5cbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiR7cmVzZXRVcmx9XCIgY2xhc3M9XCJidXR0b25cIj5SZXNldCBQYXNzd29yZDwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHA+T3IgY29weSBhbmQgcGFzdGUgdGhpcyBsaW5rIGludG8geW91ciBicm93c2VyOjwvcD5cbiAgICAgICAgICAgIDxwIHN0eWxlPVwid29yZC1icmVhazogYnJlYWstYWxsOyBjb2xvcjogIzY2NjtcIj4ke3Jlc2V0VXJsfTwvcD5cbiAgICAgICAgICAgIDxwPlRoaXMgbGluayB3aWxsIGV4cGlyZSBpbiAxIGhvdXIuPC9wPlxuICAgICAgICAgICAgPHA+SWYgeW91IGRpZG4ndCByZXF1ZXN0IGEgcGFzc3dvcmQgcmVzZXQsIHBsZWFzZSBpZ25vcmUgdGhpcyBlbWFpbC48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZvb3RlclwiPlxuICAgICAgICAgICAgPHA+JmNvcHk7ICR7bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpfSBGcm9udGxpbmUgUmF0aW5nIFN5c3RlbS4gQWxsIHJpZ2h0cyByZXNlcnZlZC48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9ib2R5PlxuICAgIDwvaHRtbD5cbiAgYDtcblxuICByZXR1cm4gc2VuZEVtYWlsKHtcbiAgICB0bzogZW1haWwsXG4gICAgc3ViamVjdDogJ1Jlc2V0IFlvdXIgUGFzc3dvcmQnLFxuICAgIGh0bWwsXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZEFwcHJvdmFsTm90aWZpY2F0aW9uRW1haWwoZW1haWw6IHN0cmluZywgbmFtZTogc3RyaW5nLCBhcHByb3ZlZDogYm9vbGVhbikge1xuICBjb25zdCBzdGF0dXNUZXh0ID0gYXBwcm92ZWQgPyAnYXBwcm92ZWQnIDogJ3JlamVjdGVkJztcbiAgY29uc3Qgc3RhdHVzQ29sb3IgPSBhcHByb3ZlZCA/ICcjMjJjNTVlJyA6ICcjZGMyNjI2JztcbiAgXG4gIGNvbnN0IGh0bWwgPSBgXG4gICAgPCFET0NUWVBFIGh0bWw+XG4gICAgPGh0bWw+XG4gICAgICA8aGVhZD5cbiAgICAgICAgPG1ldGEgY2hhcnNldD1cInV0Zi04XCI+XG4gICAgICAgIDxzdHlsZT5cbiAgICAgICAgICBib2R5IHsgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBsaW5lLWhlaWdodDogMS42OyBjb2xvcjogIzMzMzsgfVxuICAgICAgICAgIC5jb250YWluZXIgeyBtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bzsgcGFkZGluZzogMjBweDsgfVxuICAgICAgICAgIC5oZWFkZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiAke3N0YXR1c0NvbG9yfTsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAyMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGJvcmRlci1yYWRpdXM6IDhweCA4cHggMCAwOyB9XG4gICAgICAgICAgLmNvbnRlbnQgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmYWZiOyBwYWRkaW5nOiAzMHB4OyBib3JkZXItcmFkaXVzOiAwIDAgOHB4IDhweDsgfVxuICAgICAgICAgIC5idXR0b24geyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGJhY2tncm91bmQtY29sb3I6ICNkYzI2MjY7IGNvbG9yOiB3aGl0ZTsgcGFkZGluZzogMTJweCAzMHB4OyB0ZXh0LWRlY29yYXRpb246IG5vbmU7IGJvcmRlci1yYWRpdXM6IDZweDsgbWFyZ2luOiAyMHB4IDA7IH1cbiAgICAgICAgICAuZm9vdGVyIHsgdGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW4tdG9wOiAyMHB4OyBmb250LXNpemU6IDEycHg7IGNvbG9yOiAjNjY2OyB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICA8L2hlYWQ+XG4gICAgICA8Ym9keT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cbiAgICAgICAgICAgIDxoMT5BY2NvdW50IFN0YXR1cyBVcGRhdGU8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG4gICAgICAgICAgICA8cD5IZWxsbyAke25hbWV9LDwvcD5cbiAgICAgICAgICAgIDxwPllvdXIgYWNjb3VudCByZWdpc3RyYXRpb24gaGFzIGJlZW4gPHN0cm9uZz4ke3N0YXR1c1RleHR9PC9zdHJvbmc+LjwvcD5cbiAgICAgICAgICAgICR7YXBwcm92ZWQgPyBgXG4gICAgICAgICAgICAgIDxwPllvdSBjYW4gbm93IGxvZyBpbiB0byB0aGUgRnJvbnRsaW5lIFJhdGluZyBTeXN0ZW0gdXNpbmcgeW91ciBjcmVkZW50aWFscy48L3A+XG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cIiR7cHJvY2Vzcy5lbnYuQVBQX1VSTH0vYXV0aC9sb2dpblwiIGNsYXNzPVwiYnV0dG9uXCI+TG9naW4gTm93PC9hPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGAgOiBgXG4gICAgICAgICAgICAgIDxwPklmIHlvdSBiZWxpZXZlIHRoaXMgaXMgYW4gZXJyb3IsIHBsZWFzZSBjb250YWN0IHRoZSBzeXN0ZW0gYWRtaW5pc3RyYXRvci48L3A+XG4gICAgICAgICAgICBgfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb290ZXJcIj5cbiAgICAgICAgICAgIDxwPiZjb3B5OyAke25ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKX0gRnJvbnRsaW5lIFJhdGluZyBTeXN0ZW0uIEFsbCByaWdodHMgcmVzZXJ2ZWQuPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvYm9keT5cbiAgICA8L2h0bWw+XG4gIGA7XG5cbiAgcmV0dXJuIHNlbmRFbWFpbCh7XG4gICAgdG86IGVtYWlsLFxuICAgIHN1YmplY3Q6IGBBY2NvdW50ICR7YXBwcm92ZWQgPyAnQXBwcm92ZWQnIDogJ1JlamVjdGVkJ31gLFxuICAgIGh0bWwsXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE5ld1JhdGluZ05vdGlmaWNhdGlvbkVtYWlsKFxuICBlbWFpbDogc3RyaW5nLFxuICBhZ2VudE5hbWU6IHN0cmluZyxcbiAgYXZnUmF0aW5nOiBudW1iZXIsXG4gIGlzQ29tcGxhaW50OiBib29sZWFuXG4pIHtcbiAgY29uc3Qgc3ViamVjdCA9IGlzQ29tcGxhaW50ID8gJ05ldyBDb21wbGFpbnQgUmVjZWl2ZWQnIDogJ05ldyBSYXRpbmcgUmVjZWl2ZWQnO1xuICBjb25zdCBoZWFkZXJDb2xvciA9IGlzQ29tcGxhaW50ID8gJyNkYzI2MjYnIDogJyMyMmM1NWUnO1xuICBcbiAgY29uc3QgaHRtbCA9IGBcbiAgICA8IURPQ1RZUEUgaHRtbD5cbiAgICA8aHRtbD5cbiAgICAgIDxoZWFkPlxuICAgICAgICA8bWV0YSBjaGFyc2V0PVwidXRmLThcIj5cbiAgICAgICAgPHN0eWxlPlxuICAgICAgICAgIGJvZHkgeyBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7IGxpbmUtaGVpZ2h0OiAxLjY7IGNvbG9yOiAjMzMzOyB9XG4gICAgICAgICAgLmNvbnRhaW5lciB7IG1heC13aWR0aDogNjAwcHg7IG1hcmdpbjogMCBhdXRvOyBwYWRkaW5nOiAyMHB4OyB9XG4gICAgICAgICAgLmhlYWRlciB7IGJhY2tncm91bmQtY29sb3I6ICR7aGVhZGVyQ29sb3J9OyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDIwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsgYm9yZGVyLXJhZGl1czogOHB4IDhweCAwIDA7IH1cbiAgICAgICAgICAuY29udGVudCB7IGJhY2tncm91bmQtY29sb3I6ICNmOWZhZmI7IHBhZGRpbmc6IDMwcHg7IGJvcmRlci1yYWRpdXM6IDAgMCA4cHggOHB4OyB9XG4gICAgICAgICAgLmJ1dHRvbiB7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgYmFja2dyb3VuZC1jb2xvcjogI2RjMjYyNjsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAxMnB4IDMwcHg7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgYm9yZGVyLXJhZGl1czogNnB4OyBtYXJnaW46IDIwcHggMDsgfVxuICAgICAgICAgIC5mb290ZXIgeyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbi10b3A6IDIwcHg7IGZvbnQtc2l6ZTogMTJweDsgY29sb3I6ICM2NjY7IH1cbiAgICAgICAgICAucmF0aW5nIHsgZm9udC1zaXplOiAyNHB4OyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICR7aGVhZGVyQ29sb3J9OyB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICA8L2hlYWQ+XG4gICAgICA8Ym9keT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cbiAgICAgICAgICAgIDxoMT4ke3N1YmplY3R9PC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuICAgICAgICAgICAgPHA+SGVsbG8gJHthZ2VudE5hbWV9LDwvcD5cbiAgICAgICAgICAgIDxwPllvdSBoYXZlIHJlY2VpdmVkIGEgbmV3ICR7aXNDb21wbGFpbnQgPyAnY29tcGxhaW50JyA6ICdyYXRpbmcnfSBmcm9tIGEgY3VzdG9tZXIuPC9wPlxuICAgICAgICAgICAgJHshaXNDb21wbGFpbnQgPyBgPHAgY2xhc3M9XCJyYXRpbmdcIj5BdmVyYWdlIFJhdGluZzogJHthdmdSYXRpbmcudG9GaXhlZCgxKX0gLyA1LjA8L3A+YCA6ICcnfVxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjtcIj5cbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiR7cHJvY2Vzcy5lbnYuQVBQX1VSTH0vZGFzaGJvYXJkXCIgY2xhc3M9XCJidXR0b25cIj5WaWV3IERldGFpbHM8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vdGVyXCI+XG4gICAgICAgICAgICA8cD4mY29weTsgJHtuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCl9IEZyb250bGluZSBSYXRpbmcgU3lzdGVtLiBBbGwgcmlnaHRzIHJlc2VydmVkLjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2JvZHk+XG4gICAgPC9odG1sPlxuICBgO1xuXG4gIHJldHVybiBzZW5kRW1haWwoe1xuICAgIHRvOiBlbWFpbCxcbiAgICBzdWJqZWN0LFxuICAgIGh0bWwsXG4gIH0pO1xufSJdLCJuYW1lcyI6WyJub2RlbWFpbGVyIiwidHJhbnNwb3J0ZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJob3N0IiwicHJvY2VzcyIsImVudiIsIkVNQUlMX1NFUlZFUl9IT1NUIiwicG9ydCIsIk51bWJlciIsIkVNQUlMX1NFUlZFUl9QT1JUIiwic2VjdXJlIiwiYXV0aCIsInVzZXIiLCJFTUFJTF9TRVJWRVJfVVNFUiIsInBhc3MiLCJFTUFJTF9TRVJWRVJfUEFTU1dPUkQiLCJzZW5kRW1haWwiLCJ0byIsInN1YmplY3QiLCJodG1sIiwiaW5mbyIsInNlbmRNYWlsIiwiZnJvbSIsIkVNQUlMX0ZST00iLCJjb25zb2xlIiwibG9nIiwibWVzc2FnZUlkIiwic3VjY2VzcyIsImVycm9yIiwic2VuZFZlcmlmaWNhdGlvbkVtYWlsIiwiZW1haWwiLCJ0b2tlbiIsInZlcmlmaWNhdGlvblVybCIsIkFQUF9VUkwiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJzZW5kUGFzc3dvcmRSZXNldEVtYWlsIiwicmVzZXRVcmwiLCJzZW5kQXBwcm92YWxOb3RpZmljYXRpb25FbWFpbCIsIm5hbWUiLCJhcHByb3ZlZCIsInN0YXR1c1RleHQiLCJzdGF0dXNDb2xvciIsInNlbmROZXdSYXRpbmdOb3RpZmljYXRpb25FbWFpbCIsImFnZW50TmFtZSIsImF2Z1JhdGluZyIsImlzQ29tcGxhaW50IiwiaGVhZGVyQ29sb3IiLCJ0b0ZpeGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/email.ts\n");

/***/ }),

/***/ "(rsc)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = global;\nconst prisma = globalForPrisma.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log:  true ? [\n        \"query\",\n        \"error\",\n        \"warn\"\n    ] : 0\n});\nif (true) globalForPrisma.prisma = prisma;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEM7QUFFOUMsTUFBTUMsa0JBQWtCQztBQUVqQixNQUFNQyxTQUNYRixnQkFBZ0JFLE1BQU0sSUFDdEIsSUFBSUgsd0RBQVlBLENBQUM7SUFDZkksS0FBS0MsS0FBeUIsR0FBZ0I7UUFBQztRQUFTO1FBQVM7S0FBTyxHQUFHLENBQVM7QUFDdEYsR0FBRztBQUVMLElBQUlBLElBQXlCLEVBQWNKLGdCQUFnQkUsTUFBTSxHQUFHQTtBQUVwRSxpRUFBZUEsTUFBTUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250LWxpbmUtcmF0aW5nLXYxLXJldmFtcC8uL2xpYi9wcmlzbWEudHM/OTgyMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XG5cbmNvbnN0IGdsb2JhbEZvclByaXNtYSA9IGdsb2JhbCBhcyB1bmtub3duIGFzIHsgcHJpc21hOiBQcmlzbWFDbGllbnQgfTtcblxuZXhwb3J0IGNvbnN0IHByaXNtYSA9XG4gIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgfHxcbiAgbmV3IFByaXNtYUNsaWVudCh7XG4gICAgbG9nOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IFsncXVlcnknLCAnZXJyb3InLCAnd2FybiddIDogWydlcnJvciddLFxuICB9KTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPSBwcmlzbWE7XG5cbmV4cG9ydCBkZWZhdWx0IHByaXNtYTsiXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwiZ2xvYmFsRm9yUHJpc21hIiwiZ2xvYmFsIiwicHJpc21hIiwibG9nIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/prisma.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/nodemailer"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fratings%2Froute&page=%2Fapi%2Fratings%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fratings%2Froute.ts&appDir=%2Fworkspaces%2Ffront-line-rating-v1-Revamp%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspaces%2Ffront-line-rating-v1-Revamp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();